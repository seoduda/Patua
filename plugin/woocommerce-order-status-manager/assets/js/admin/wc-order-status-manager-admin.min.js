(function(){"use strict";jQuery(function(a){var b,c,d,e;return a(".tips, .help_tip").tipTip({attribute:"data-tip",fadeIn:50,fadeOut:50,delay:200}),"wc_order_status"===pagenow&&("function"==typeof(b=a("#_next_statuses")).select2&&b.select2(),a().select2||"function"==typeof(c=a("#_next_statuses")).chosen&&c.chosen(),a("#_color").wpColorPicker({change:function(b,c){return a("._icon_field .selected-icon").css("color",c.color.toString())}}),a(document).mousedown(function(b){return a(b.target).parents(".wp-picker-holder")||a(b.target).parents("mark")?void 0:a(".wp-picker-holder").each(function(){return a(this).fadeOut()})}),e=function(b,c){return a(b).siblings("select").val(""),a(b).siblings(".icons-selector").find(".selected-icon i").removeClass().css("background-image","url("+c+")")},a("#_icon, #_action_icon").each(function(){var b;return a(this).fontIconPicker({allCategoryText:wc_order_status_manager.i18n.all_icon_packages,source:wc_order_status_manager.icon_options}),a(this).on("change",function(b){return a(this).val()?a(this).siblings(".icons-selector").find(".selected-icon i").css("background-image",""):void 0}),b=a(this).data("icon-image"),b&&e(this,b),a(this).siblings(".upload-icon").detach().insertAfter(a(this).siblings(".icons-selector").find(".selector"))}),a(".icons-selector .selector-button").attr("title",wc_order_status_manager.i18n.select_icon),a(".icons-search-input").attr("placeholder",wc_order_status_manager.i18n.search_icons),a("._icon_field .selected-icon").css("color",a("#_color").val()),d={},a(".upload-icon").on("click",function(b){var c,f;return b.preventDefault(),f=this,c=a(this).attr("href"),d[c]?d[c].open():(d[c]=wp.media.frames["file_frame_"+c]=wp.media({title:wc_order_status_manager.i18n.choose_file,button:{text:a(this).data("uploader-button-text")},multiple:!1}),d[c].on("select",function(b){var f;return f=d[c].state().get("selection").first().toJSON(),a(c).val(f.id),a(c).siblings(".icons-selector").find(".selected-icon i").css("background-image","").removeClass().addClass("fa fa-refresh fa-spin"),a.get(wc_order_status_manager.ajax_url,{attachment_id:f.id,action:"wc_order_status_manager_get_icon_image_url"},function(a){return-1!==a.indexOf("http")?e(c,a):void 0})}),d[c].open())})),"wc_order_email"===pagenow?(a(".dispatch_conditions").on("click",".remove-condition",function(b){return window.confirm(wc_order_status_manager.i18n.remove_this_condition)&&(a(b.target).parents("tr").remove(),!a(".dispatch_conditions tbody").children().length)?a(".dispatch_conditions tbody, .dispatch_conditions thead").hide():void 0}),a(".dispatch_conditions").on("click",".add-condition",function(b){var c,d;return c=a(".dispatch_conditions tr.condition").length,d='<option value="any">'+wc_order_status_manager.i18n.any+"</option>",a.each(wc_order_status_manager.order_statuses,function(a,b){return d+='<option value="'+a+'">'+b+"</option>"}),a(".dispatch_conditions thead").show(),a(".dispatch_conditions tbody").show().append('<tr class="condition"><td><select name="_email_dispatch_condition['+c+'][from]">'+d+'</select></td><td><select name="_email_dispatch_condition['+c+'][to]">'+d+'</select></td><td><button type="button" class="button remove-condition">'+wc_order_status_manager.i18n.remove+"</button></td></tr>")})):void 0})}).call(this);
